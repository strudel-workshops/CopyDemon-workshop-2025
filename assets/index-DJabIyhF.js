import{d as h,j as e,B as d,D as k,E,n as z,o as q,p as G,q as V,S as p,T as u,v as b,w as _,P as F,A as P,x as B,L as y}from"./index-CivexyuF.js";import{u as H,F as W,a as $}from"./FilterField-WbElFEXF.js";import{P as O}from"./PageHeader-BY-ml-QC.js";import{S as K}from"./SciDataGrid-CXUkXpsG.js";import{u as J,f as Q,F as U}from"./useListQuery-B-mimgNF.js";import{S as X,D as Y}from"./DataGrid-Boppge1W.js";import{A as Z,C as ee}from"./Close-Cben1_ZV.js";import"./DatePicker-DPPA4EA2.js";import"./DateCalendar-CQ786qBp.js";import"./colorManipulator-B501fmLc.js";import"./Grid-DJz8Tncz.js";import"./useQuery-CjYJ5CEF.js";import"./useGridRootProps-C0OKDmts.js";import"./MenuItem-DGgSAOCg.js";import"./dividerClasses--8BlA_zk.js";import"./Divider-CNHCKjbM.js";const te=({filterConfigs:r,searchTerm:i,setPreviewItem:n})=>{const{activeFilters:l}=H(),[c,x]=h.useState(0),[o,v]=h.useState(25),[g,f]=h.useState(c*o),R="owner",w="client";let{isPending:D,isFetching:I,isError:M,data:T,error:A}=J({activeFilters:l,dataSource:"dummy-data/explor.json",filterConfigs:r,offset:g,pageSize:o,queryMode:w,staticParams:null});const L=a=>{n(a.row)},N=a=>{const s=a.pageSize!==o?0:a.page,t=a.pageSize,j=s*t;x(s),v(t),f(j)};if(D){const s=new Array(o).fill(null).map((t,j)=>j);return e.jsx(d,{sx:{padding:2},children:s.map(t=>e.jsx(X,{height:50},t))})}return M?e.jsx(Z,{severity:"error",children:A.message}):e.jsxs(e.Fragment,{children:[I&&e.jsx(k,{variant:"indeterminate"}),e.jsx(K,{rows:Q(T,l,r,i),pagination:!0,paginationMode:w,onPaginationModelChange:N,getRowId:a=>a[R],columns:[{field:"name",headerName:"ID as name",type:"string",width:100,renderCell:a=>e.jsx(E,{href:`http://localhost:8081/contribs/projects/${a.value}`,target:"_blank",rel:"noopener noreferrer",underline:"hover",children:a.value})},{field:"title",headerName:"Title",width:400},{field:"is_public",headerName:"Public",width:150,type:"boolean"},{field:"is_approved",headerName:"Approved",width:150,type:"boolean"},{field:"stats.columns",headerName:"Columns",width:150,type:"number",valueGetter:(a,s)=>{var t;return(t=s.stats)==null?void 0:t.columns}},{field:"stats.contributions",headerName:"Contributions",width:150,type:"number",valueGetter:(a,s)=>{var t;return(t=s.stats)==null?void 0:t.contributions}},{field:"stats.tables",headerName:"Tables",width:150,type:"number",valueGetter:(a,s)=>{var t;return(t=s.stats)==null?void 0:t.tables}},{field:"stats.structures",headerName:"Structures",width:150,type:"number",valueGetter:(a,s)=>{var t;return(t=s.stats)==null?void 0:t.structures}},{field:"stats.attachments",headerName:"Attachments",width:150,type:"number",valueGetter:(a,s)=>{var t;return(t=s.stats)==null?void 0:t.attachments}}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:c,pageSize:o}}},onRowClick:L})]})};var m={},S;function ae(){if(S)return m;S=1;var r=z();Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var i=r(q()),n=G();return m.default=(0,i.default)((0,n.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),m}var re=ae();const ie=V(re),se=({searchTerm:r,setSearchTerm:i,onToggleFiltersPanel:n})=>{const l=c=>{i(c.target.value)};return e.jsxs(p,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(u,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(b,{startIcon:e.jsx(ie,{}),onClick:n,children:"Filters"}),e.jsx(_,{variant:"outlined",label:"Search",size:"small",value:r,onChange:l})]})},ne=({filterConfigs:r,onClose:i})=>e.jsx(U,{grouped:!1,onClose:i,sx:{border:"none"},children:r.map((n,l)=>e.jsx(W,{field:n.field,label:n.label,operator:"contains",filterComponent:n.filterComponent,filterProps:n.filterProps},`${n.field}-${l}`))}),le=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],oe=Array(25).fill(0),de=oe.map((r,i)=>({id:i,attr1:"value",attr2:"value",attr3:"value"})),ce=({previewItem:r,onClose:i})=>e.jsx(F,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(p,{spacing:3,children:[e.jsxs(p,{spacing:1,children:[e.jsxs(p,{direction:"row",children:[e.jsx(u,{variant:"h6",component:"h3",flex:1,children:e.jsx(P,{to:"/explore-data/$id",params:{id:r.Id},children:r["Planet Name"]})}),e.jsx(B,{size:"small",onClick:i,children:e.jsx(ee,{})})]}),e.jsx(u,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(d,{children:[e.jsx(u,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(y,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(d,{children:[e.jsx(u,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(y,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(d,{children:[e.jsx(u,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx(Y,{rows:de,columns:le,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(p,{direction:"row",children:[e.jsx(P,{to:"/explore-data/$id",params:{id:r.Id},children:e.jsx(b,{variant:"contained",children:"View details"})}),e.jsx(b,{variant:"outlined",children:"Export data"})]})]})}),C=[{field:"Discovery Method",label:"Discovery Method",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Astrometry",value:"Astrometry"},{label:"Disk Kinematics",value:"Disk Kinematics"},{label:"Eclipse Timing Variations",value:"Eclipse Timing Variations"},{label:"Imaging",value:"Imaging"},{label:"Microlensing",value:"Microlensing"},{label:"Radial Velocity",value:"Radial Velocity"},{label:"Transit",value:"Transit"}]}},{field:"Mass",label:"Mass",operator:"between-inclusive",filterComponent:"RangeSlider",filterProps:{min:0,max:1e4}}],Re=function(){const[i,n]=h.useState(""),[l,c]=h.useState(),[x,o]=h.useState(!0),v=()=>{o(!1)},g=()=>{o(!x)},f=()=>{c(null)};return e.jsx($,{children:e.jsxs(d,{children:[e.jsx(O,{pageTitle:"Explorer Data App",description:"Testing Material Project Contribution Explorer",sx:{marginBottom:1,padding:2}}),e.jsx(d,{children:e.jsxs(p,{direction:"row",children:[x&&e.jsx(d,{sx:{width:"350px"},children:e.jsx(ne,{filterConfigs:C,onClose:v})}),e.jsxs(F,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(se,{searchTerm:i,setSearchTerm:n,onToggleFiltersPanel:g}),e.jsx(te,{filterConfigs:C,searchTerm:i,setPreviewItem:c})]}),l&&e.jsx(d,{sx:{minWidth:"400px"},children:e.jsx(ce,{previewItem:l,onClose:f})})]})})]})})};export{Re as component};
